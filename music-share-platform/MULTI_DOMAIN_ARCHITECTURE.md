# 다중 도메인 아키텍처

## 도메인 구조

### 1. 메인 사이트 (example.com)
- **목적**: 회사 소개, 랜딩 페이지
- **접근**: 공개
- **기능**:
  - 회사 정보
  - 서비스 소개
  - 문의하기
  - (음원 사이트/관리자 사이트로의 링크 없음 - 완전히 숨김)

### 2. 음원 다운로드 사이트 (music.example.com 또는 숨겨진 서브도메인)
- **목적**: 초대받은 사용자의 음원 접근
- **접근**: 초대 링크를 받은 사용자만
- **기능**:
  - 초대 링크로 회원가입
  - 로그인
  - 할당된 음원 스트리밍/다운로드
  - 개인 음원 라이브러리

### 3. 관리자 사이트 (admin.example.com 또는 완전히 다른 도메인)
- **목적**: 음원 업로드 및 초대 관리
- **접근**: 관리자 계정만
- **기능**:
  - 음원 업로드
  - 초대 링크 생성
  - 사용자 관리
  - 다운로드 통계

## 현재 구조와의 차이

**현재**: 단일 사이트에서 모든 기능

**변경 후**: 3개의 완전히 분리된 사이트

## 배포 구조

### 옵션 1: 서브도메인 방식
```
example.com          → 메인 사이트 (Vercel/Netlify)
music.example.com    → 음원 사이트 (Vercel/Netlify)
admin.example.com    → 관리자 사이트 (Vercel/Netlify)
api.example.com      → 백엔드 API (단일 서버)
```

### 옵션 2: 완전히 다른 도메인
```
company.com          → 메인 사이트
random-string.com    → 음원 사이트 (추측 불가능)
another-random.com   → 관리자 사이트 (추측 불가능)
api.company.com      → 백엔드 API
```

### 옵션 3: 숨겨진 경로 (단일 도메인)
```
example.com/                  → 메인 사이트
example.com/m/abc123xyz       → 음원 사이트 (랜덤 경로)
example.com/a/xyz789abc       → 관리자 사이트 (랜덤 경로)
```

## 구현 계획

1. **frontend-main**: 메인 회사 사이트 (새로 생성)
2. **frontend-music**: 음원 다운로드 사이트 (현재 frontend 수정)
3. **frontend-admin**: 관리자 전용 사이트 (현재 AdminPage 분리)
4. **backend**: 단일 API 서버 (그대로 사용, CORS 설정만 업데이트)

## 보안 고려사항

- 메인 사이트에서 음원/관리자 사이트로의 링크 없음
- 관리자 사이트는 추측 불가능한 도메인/경로 사용
- 음원 사이트는 초대 링크로만 접근 가능
- 각 사이트는 독립적인 인증 시스템
